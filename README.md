# AC Basketball Season Predictor (WNBA)

This project is a Data Science pipeline designed to analyze historical WNBA data (Seasons 1-10) and predict the outcomes of a future or hypothetical **Season 11**.

The system utilizes Machine Learning (XGBoost & Random Forest) to forecast team standings, individual player awards, and the likelihood of head coaches being fired.

## Project Overview

The core challenge of this project is **Season 11**. While we have roster and coaching data for this season, we **do not have actual game statistics** (points, rebounds, wins, etc.).

Therefore, the pipeline follows a specific logical flow:
1.  **Project Team Success:** Predict how many games each team will win based on roster continuity and past performance.
2.  **Project Player Stats:** Estimate player statistics based on their previous season's data and their team's predicted success (e.g., rookies on bad teams get more playing time).
3.  **Predict Outcomes:** Use these projections to determine Award Winners and Coach Job Security.

## Project Structure

```text
AC_BASKETBALL_SEASON/
│
├── data/
│   ├── Season_11/           # Raw data for the prediction year
│   ├── cleaned/             # Processed datasets generated by data_prepare.py
│   ├── awards_players.csv   # Historical awards
│   ├── coaches.csv          # Historical coaching records
│   ├── players.csv          # Player bio info
│   ├── teams.csv            # Team metadata
│   └── ...
│
├── results/
│   ├── plots/               # Visualizations generated by the scripts
│   └── predictions/         # CSV files with final predictions
│
├── data_explore.py          # Initial Exploratory Data Analysis (EDA)
├── data_prepare.py          # Data Cleaning & Merging Pipeline
├── rankings.py              # STEP 1: Predict Team Standings
├── predict_awards.py        # STEP 2: Predict MVP, Rookie of Year, etc.
├── coacheChangings.py       # STEP 3: Predict Coach Firing Probabilities
│
└── README.md
```

## Requirements

*   Python 3.8+
*   **Libraries:**
    *   `pandas`
    *   `numpy`
    *   `matplotlib`
    *   `seaborn`
    *   `scikit-learn`
    *   `xgboost`

Install dependencies via terminal:
```bash
pip install pandas numpy matplotlib seaborn scikit-learn xgboost
```

## How to Run the Pipeline

**Important:** You must run the scripts in the following order, as downstream models rely on the predictions generated by upstream models.

### 1. Data Preparation
Merges historical data with the new Season 11 structure and handles missing values.
```bash
python3 data_prepare.py
```
*Output:* `data/cleaned/full_dataset_prepared.csv`

### 2. Predict Team Rankings
Predicts the Win % for Season 11 using **Weighted Roster Continuity** (how much talent returned) and **Lag Stats** (performance in Season 10).
```bash
python3 rankings.py
```
*Output:* `results/predictions/season_11_rankings.csv`

### 3. Predict Individual Awards
Uses the predicted team rankings + projected player stats to find favorites for MVP, Rookie of the Year, etc.
*   **Method:** XGBoost Ranker (Learning-to-Rank).
*   **Logic:** Includes logic to break ties among Rookies based on "Opportunity Factors" (Rookies on predicted losing teams get a stats boost).
```bash
python3 predict_awards.py
```
*Output:* `results/predictions/season_11_awards_detailed.csv`

### 4. Predict Coach "Hot Seat"
Calculates the probability of a coach leaving/being fired based on the **Predicted** Season 11 performance vs. their historical win rate.
*   **Method:** Random Forest Classifier.
```bash
python3 coacheChangings.py
```
*Output:* `results/predictions/season_11_coach_changes.csv`

---

## Methodology & Models

### Team Rankings (`rankings.py`)
*   **Algorithm:** XGBRegressor.
*   **Key Features:**
    *   `prev_win_pct`: Win percentage in Season 10.
    *   `continuity_score`: The percentage of the team's total efficiency (points + rebounds + etc.) that returned for Season 11.
*   **Goal:** Establish a baseline of team quality for the other models.

### Individual Awards (`predict_awards.py`)
*   **Algorithm:** XGBRanker (Pairwise Ranking).
*   **Projection Logic:**
    *   **Veterans:** Carry over stats from Season 10.
    *   **Rookies:** Assigned league average stats adjusted by an **Opportunity Factor** (teams predicted to lose give rookies more minutes).
*   **Awards Predicted:** MVP, Rookie of the Year, Defensive Player of the Year, Sixth Woman of the Year, Most Improved Player.

### Coach Stability (`coacheChangings.py`)
*   **Algorithm:** Random Forest Classifier.
*   **Key Features:**
    *   `win_pct`: The **predicted** win percentage for Season 11.
    *   `lifetime_win_pct`: The coach's historical success.
    *   `trend`: Is the team improving or getting worse?
*   **Output:** classifies coaches as "Safe", "In Danger", or "Hot Seat".

---

## Results

After running the pipeline, check the `results/` folder:
*   **CSV Files:** Detailed tables of predictions.
*   **Plots:** Visual heatmaps and bar charts showing the top candidates for awards and the coaches most at risk.

---

## Group Members

1. Inês Soares (up202108852@edu.fe.up.pt)
2. Sofia Cruz (up202208135@edu.fe.up.pt)